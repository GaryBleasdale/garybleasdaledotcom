---
import GitHeatmapYear from "@/components/sections/GitHeatmapYear.astro"; 
import Layout from "@/layouts/Layout.astro"
import "../styles/calHeatmap.css";
import { db,years } from "astro:db";

const yearsOfCommitsData = await db.select().from(years)
const yearsOfCommits = yearsOfCommitsData.map((year)=>{
   return year.year
})

---
<Layout title="Git History: Gary Bleasdale">
  <div>Heatmaps</div>
      <div
        style={{
          background: "#22272d",
          color: "#adbac7",
          borderRadius: "3px",
          padding: "1rem",
          overflow: "hidden",
        }}
      >
        {yearsOfCommits.map((year)=>{
          return <GitHeatmapYear year={year}/>
        })}
        <div style={{ float: "right", fontSize: 12 }}>
            <span style={{ color: "#768390" }}>Less</span>
            <div
              id="ex-ghDay-legend"
              style={{ display: "inline-block", margin: "0 4px" }}
            ></div>
            <span style={{ color: "#768390", fontSize: 12 }}>More</span>
          </div>
      </div>
</Layout>

